<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Network Security Principles â€” 15-Question Quiz</title>
<style>
  :root{--bg:#0f172a;--card:#111827;--accent:#38bdf8;--muted:#94a3b8;--ok:#22c55e;--bad:#ef4444;}
  *{box-sizing:border-box}
  body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,"Helvetica Neue",Arial,"Noto Sans","Apple Color Emoji","Segoe UI Emoji";background:var(--bg);color:#e5e7eb}
  header{padding:28px 16px;text-align:center;border-bottom:1px solid #1f2937;background:linear-gradient(180deg,rgba(56,189,248,.08),transparent)}
  h1{margin:0 0 8px 0;font-size:clamp(22px,4vw,36px);letter-spacing:.2px}
  p.sub{margin:0;color:var(--muted);font-size:clamp(14px,2.3vw,16px)}
  main{max-width:900px;margin:24px auto;padding:16px}
  .card{background:var(--card);border:1px solid #1f2937;border-radius:16px;padding:18px;margin:16px 0;box-shadow:0 10px 30px rgba(0,0,0,.25)}
  .meta{display:flex;gap:12px;flex-wrap:wrap;align-items:center;justify-content:space-between;margin-bottom:8px}
  .tag{padding:4px 10px;border-radius:999px;background:#0b1220;border:1px solid #1f2937;color:var(--muted);font-size:12px}
  .question{font-size:18px;margin:6px 0 14px 0;line-height:1.4}
  .choices{display:grid;grid-template-columns:1fr 1fr;gap:10px}
  .choice{padding:12px 14px;border-radius:12px;border:1px solid #243041;background:#0b1220;color:#e5e7eb;text-align:left;cursor:pointer;transition:transform .05s ease, border-color .2s ease}
  .choice:hover{transform:translateY(-1px);border-color:var(--accent)}
  .choice.correct{border-color:var(--ok);outline:2px solid rgba(34,197,94,.25)}
  .choice.incorrect{border-color:var(--bad);outline:2px solid rgba(239,68,68,.25)}
  .explain{margin-top:8px;color:var(--muted);font-size:14px;display:none}
  .explain.show{display:block}
  .controls{display:flex;gap:10px;flex-wrap:wrap;margin-top:14px}
  button{background:var(--accent);border:none;color:#05232e;padding:10px 14px;border-radius:10px;font-weight:600;cursor:pointer}
  button.secondary{background:#0b1220;border:1px solid #1f2937;color:#cbd5e1}
  #hud{display:flex;gap:8px;flex-wrap:wrap;justify-content:center;margin:12px 0}
  .pill{border:1px solid #1f2937;background:#0b1220;border-radius:999px;padding:6px 12px;font-size:13px;color:#cbd5e1}
  #result{font-size:18px;margin-top:6px}
  footer{color:var(--muted);text-align:center;padding:24px 12px}
  @media (max-width:720px){.choices{grid-template-columns:1fr}}
</style>
</head>
<body>
  <header>
    <h1>Network Security Principles â€” Quiz (15 Questions)</h1>
    <p class="sub">Firewalls â€¢ IDS/IPS â€¢ VPNs â€¢ HTTPS/SSL/TLS â€¢ Segmentation â€¢ Zoning (DMZ, Internal, Restricted)</p>
  </header>
  <main>
    <div id="hud">
      <span class="pill" id="progress">Question 1/15</span>
      <span class="pill" id="score">Score: 0</span>
      <span class="pill" id="timer">Time: 10:00</span>
    </div>

    <div id="quiz"></div>

    <div class="card">
      <div class="meta">
        <div class="tag">Finish</div>
      </div>
      <div class="question" id="result">Answer all questions to see your score.</div>
      <div class="controls">
        <button id="retry" class="secondary">Retry</button>
        <button id="show-answers" class="secondary">Reveal Explanations</button>
        <button id="download" title="Download your results as a .txt file">Download Results</button>
      </div>
    </div>
  </main>
  <footer>Made for classroom use. Tip: Use it offline by saving this file.</footer>

<script>
const QUIZ_MINUTES = 10; // total quiz time
const questions = [
  {
    q: "Which statement best describes a firewall?",
    choices: [
      "A device that encrypts files on disk",
      "A system that controls traffic using rules to allow or block connections",
      "A tool that scans endpoints for malware only",
      "A protocol used to secure web traffic"
    ],
    answer: 1,
    why: "Firewalls enforce policy on inbound/outbound traffic using rule sets (ports, IPs, protocols, and in next-gen, applications)."
  },
  {
    q: "Packet-filtering firewalls primarily make decisions based on:",
    choices: ["Application signatures", "User identity and roles", "IP addresses, ports, and protocols", "TLS certificate validity"],
    answer: 2,
    why: "Classic packet filters evaluate the 5â€‘tuple: source/destination IP and port, plus protocol."
  },
  {
    q: "Stateful inspection adds which capability beyond simple packet filtering?",
    choices: ["Malware sandboxing", "Tracking connection state and context", "Encrypting packets", "Generating TLS certificates"],
    answer: 1,
    why: "Stateful firewalls understand sessions (e.g., TCP handshake) and allow return traffic that matches an existing flow."
  },
  {
    q: "An application-layer (proxy) firewall can:",
    choices: ["Inspect HTTP headers and block SQL injection patterns", "Only allow traffic by port number", "Replace IPS functionality entirely", "Terminate TLS without certificates"],
    answer: 0,
    why: "Layerâ€‘7 awareness enables protocol validation and content filtering for threats like SQLi."
  },
  {
    q: "IDS primarily ___ while IPS primarily ___.",
    choices: ["blocks; alerts", "inspects TLS; issues certs", "alerts; blocks", "monitors users; authenticates"],
    answer: 2,
    why: "IDS detects and alerts. IPS takes action in-line to block or drop malicious traffic."
  },
  {
    q: "A user is on public Wiâ€‘Fi and needs to access company resources. Best action?",
    choices: ["Use a VPN to create an encrypted tunnel", "Connect directly over HTTP", "Disable the local firewall", "Email files to personal account"],
    answer: 0,
    why: "VPNs protect traffic on untrusted networks by encrypting it endâ€‘toâ€‘end to the VPN gateway."
  },
  {
    q: "HTTPS provides which of the following?",
    choices: ["Confidentiality and integrity with server authentication", "Only server authentication", "Only confidentiality", "Only integrity"],
    answer: 0,
    why: "TLS under HTTPS encrypts data, prevents tampering, and authenticates the server via certificates."
  },
  {
    q: "A site uses HTTP instead of HTTPS for logins. The main risk is:",
    choices: ["DNS poisoning only", "Eavesdropping and credential theft (MITM)", "DDoS", "ARP spoofing only"],
    answer: 1,
    why: "Without TLS, credentials can be intercepted or altered by attackers on path."
  },
  {
    q: "Network segmentation primarily helps to:",
    choices: ["Increase internet speed", "Reduce lateral movement after a breach", "Replace endpoint antivirus", "Eliminate need for backups"],
    answer: 1,
    why: "By isolating systems into VLANs/zones, compromise of one area doesnâ€™t grant access to all assets."
  },
  {
    q: "Which system belongs in a DMZ?",
    choices: ["Payroll database", "Public web server", "HR file share", "Domain controller"],
    answer: 1,
    why: "Publicâ€‘facing services (web, mail relays, reverse proxies) go in the DMZ to shield internal networks."
  },
  {
    q: "The best control to prevent SQL injection reaching your app is:",
    choices: ["IDS only", "Parameterised queries plus a WAF/appâ€‘layer firewall", "Using HTTP instead of HTTPS", "Turning off logging"],
    answer: 1,
    why: "Secure coding (prepared statements) is primary; a WAF can block known injection patterns."
  },
  {
    q: "TLS certificates in HTTPS are used mainly to:",
    choices: ["Encrypt disks", "Authenticate the server and enable key exchange", "Detect malware", "Control bandwidth"],
    answer: 1,
    why: "Certificates bind a public key to a domain/organization and bootstrap secure key exchange."
  },
  {
    q: "Which is the MOST appropriate rule baseline on an internet edge firewall?",
    choices: ["Allow all outbound and inbound", "Block all inbound except required services; restrict outbound as needed", "Block all traffic including DNS", "Allow all inbound but block outbound"],
    answer: 1,
    why: "Principle of least privilege: expose only necessary inbound services and tightly control egress."
  },
  {
    q: "To isolate finance systems with stricter controls you should:",
    choices: ["Place them in a restricted zone/VLAN with tighter ACLs", "Put them on the guest Wiâ€‘Fi", "Host them in the DMZ", "Disable their antivirus"],
    answer: 0,
    why: "Highâ€‘sensitivity assets belong to restricted zones with strong access control and monitoring."
  },
  {
    q: "What is a realistic combined deployment?",
    choices: [
      "No firewall, HTTPS everywhere",
      "Edge firewall + DMZ for web tier + internal IDS/IPS + VPN for remote users",
      "Only endpoint antivirus",
      "Replace segmentation with larger flat network to simplify"
    ],
    answer: 1,
    why: "Layered defense: perimeter filtering, zoned architecture, inâ€‘line detection/prevention, and secure remote access."
  }
];

let score = 0;
let current = 0;
let locked = false;
let timer;
let remaining = QUIZ_MINUTES * 60;

const quizDiv = document.getElementById("quiz");
const progressEl = document.getElementById("progress");
const scoreEl = document.getElementById("score");
const timerEl = document.getElementById("timer");
const resultEl = document.getElementById("result");
const retryBtn = document.getElementById("retry");
const revealBtn = document.getElementById("show-answers");
const dlBtn = document.getElementById("download");

function formatTime(s){
  const m = Math.floor(s/60).toString().padStart(2,"0");
  const sec = (s%60).toString().padStart(2,"0");
  return m+":"+sec;
}

function startTimer(){
  timer = setInterval(()=>{
    remaining--;
    timerEl.textContent = "Time: " + formatTime(remaining);
    if(remaining <= 0){
      clearInterval(timer);
      endQuiz(true);
    }
  }, 1000);
}

function renderQuestion(index){
  const item = questions[index];
  progressEl.textContent = `Question ${index+1}/${questions.length}`;
  const card = document.createElement("div");
  card.className = "card";
  card.innerHTML = `
    <div class="meta"><div class="tag">Multiple Choice</div></div>
    <div class="question">${item.q}</div>
    <div class="choices"></div>
    <div class="explain" id="why-${index}">ðŸ’¡ ${item.why}</div>
  `;
  const choicesDiv = card.querySelector(".choices");
  item.choices.forEach((c, i)=>{
    const btn = document.createElement("button");
    btn.className = "choice";
    btn.textContent = c;
    btn.addEventListener("click", ()=> choose(index, i, btn, card));
    choicesDiv.appendChild(btn);
  });
  quizDiv.appendChild(card);
}

function choose(qIndex, choiceIndex, btn, card){
  if(locked) return;
  locked = true;
  const correctIndex = questions[qIndex].answer;
  const buttons = card.querySelectorAll(".choice");
  buttons.forEach((b, idx)=>{
    if(idx === correctIndex) b.classList.add("correct");
    if(idx === choiceIndex && idx !== correctIndex) b.classList.add("incorrect");
    b.disabled = true;
  });
  document.getElementById(`why-${qIndex}`).classList.add("show");
  if(choiceIndex === correctIndex) score++;
  scoreEl.textContent = "Score: " + score;
  setTimeout(()=>{
    current++;
    if(current < questions.length){
      renderQuestion(current);
      locked = false;
      window.scrollTo({top:document.body.scrollHeight, behavior:"smooth"});
    }else{
      endQuiz(false);
    }
  }, 700);
}

function endQuiz(timeExpired){
  clearInterval(timer);
  const total = questions.length;
  const pct = Math.round((score/total)*100);
  const msg = timeExpired ? "â±ï¸ Time's up! " : "ðŸŽ‰ Quiz complete! ";
  resultEl.textContent = `${msg}You scored ${score}/${total} (${pct}%).`;
  revealBtn.disabled = false;
  dlBtn.disabled = false;
}

function reset(){
  score = 0; current = 0; locked = false;
  remaining = QUIZ_MINUTES * 60;
  quizDiv.innerHTML = "";
  resultEl.textContent = "Answer all questions to see your score.";
  scoreEl.textContent = "Score: 0";
  progressEl.textContent = `Question 1/${questions.length}`;
  timerEl.textContent = "Time: " + formatTime(remaining);
  renderQuestion(0);
  clearInterval(timer); startTimer();
  revealBtn.disabled = true; dlBtn.disabled = true;
}

revealBtn.addEventListener("click", ()=>{
  document.querySelectorAll(".explain").forEach(el=>el.classList.add("show"));
});

dlBtn.addEventListener("click", ()=>{
  const lines = [];
  lines.push("Network Security Principles â€” Quiz Results");
  lines.push(`Score: ${score}/${questions.length}`);
  lines.push("");
  questions.forEach((q,i)=>{
    lines.push(`${i+1}. ${q.q}`);
    q.choices.forEach((c,idx)=>{
      const mark = (idx===q.answer) ? "*" : " ";
      lines.push(`   ${String.fromCharCode(65+idx)}. ${c}${mark==='*'?'  <-- correct':''}`);
    });
    lines.push(`   Why: ${q.why}`);
    lines.push("");
  });
  const blob = new Blob([lines.join("\n")], {type:"text/plain"});
  const url = URL.createObjectURL(blob);
  const a = document.createElement("a");
  a.href = url; a.download = "network_security_quiz_results.txt";
  a.click();
  URL.revokeObjectURL(url);
});

retryBtn.addEventListener("click", reset);

// boot
reset();
</script>
</body>
</html>
